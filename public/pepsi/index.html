<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=yes" />
<title>Adtima</title>
<style type="text/css">
*{margin:0;padding:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}
body{background-color:#6ba3ff;width:100%}
body.autoplay .img-touch{display:none!important}
.img-touch{position:absolute;top:50%;left:50%;width:250px;height:200px;margin-top:-100px;margin-left:-125px}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
<script>
	var url_string = window.location.href;
	var url = new URL(url_string);
	var r_id = url.searchParams.get("r_id");

	var socket = io('http://localhost:3021', {secure: true});
  // connected
	socket.on('connect', function() {
		console.log('connected');
		if(r_id == null || r_id == "") {
			socket.emit('host_create_game');
		}
		else {
			socket.emit('player_join_game', {
				'gameId': r_id
			});
		}
	});

	// server message
	socket.on('new_game_created', function(data){
		console.log('new_game_created: ' + JSON.stringify(data));
	});

	// server message
	socket.on('player_joined_room', function(data){
		console.log('player_joined_room: ' + JSON.stringify(data));
	});

	// server message
	socket.on('fire', function(data){
		console.log('fire: ' + JSON.stringify(data));
	});

	// server message
	socket.on('end_game', function(data){
		console.log('end_game: ' + JSON.stringify(data));
	});

	// server message
	socket.on('player_error', function(data){
		console.log('player_error: ' + JSON.stringify(data));
	});

	// server message
	socket.on('player_ready', function(data){
		console.log('player_ready: ' + JSON.stringify(data));
	});

	// server message
	socket.on('cancel_start_game', function(data){
		console.log('cancel_start_game: ' + JSON.stringify(data));
	});

	// server message
	socket.on('game_start', function(data){
		console.log('game_start: ' + JSON.stringify(data));
	});

  // disconnect
	socket.on('disconnect', function(){
		console.log('disconnect');
	});
</script>
</head>
<body>
	<img id='touchIcon' class="img-touch" src="images/touch.png" alt="Adtima">
</body>
</html>
